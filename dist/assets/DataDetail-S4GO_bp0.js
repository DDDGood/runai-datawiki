import{u as B,j,o as I,a as e,c as s,b as t,t as a,l as b,F as d,r as k,m as _,g as u,h as V,n as T,q as R,i as A}from"./index-DgcLiLCN.js";const F={key:0,class:"bg-white rounded-lg p-8 text-center text-gray-500"},L={key:1,class:"bg-white rounded-lg p-8 text-center text-gray-500"},q={key:2},z={class:"bg-white rounded-lg p-6 shadow-sm mb-4"},E={class:"flex items-start gap-4"},G={class:"text-4xl"},M={class:"flex-1"},$={class:"text-2xl font-bold"},H={class:"text-gray-500 font-mono text-sm mt-1"},K={key:0,class:"text-gray-600 mt-2"},P={class:"flex gap-2"},Q={key:0,class:"bg-gray-800 text-gray-100 rounded-lg p-4 mb-4 overflow-x-auto"},U={class:"text-sm font-mono"},W={class:"bg-white rounded-lg shadow-sm overflow-hidden"},X={class:"divide-y"},Y={class:"flex items-start"},Z={class:"w-48 text-sm font-medium text-gray-600 shrink-0"},tt={class:"flex-1"},et={key:0,class:"text-gray-400"},st={key:1,class:"space-y-2"},ot={key:0,class:"text-xs font-mono overflow-x-auto"},at={key:2,class:"bg-gray-50 rounded p-2"},nt={class:"text-xs font-mono overflow-x-auto"},it={__name:"DataDetail",setup(rt){const v=T(),w=V(),y=B(),i=u(()=>v.params.type),m=u(()=>v.params.id),D=u(()=>y.getDataTypeConfig(i.value)),n=_(null),p=_(!0),c=_(!1),f=async()=>{p.value=!0,await y.loadData(i.value),n.value=y.getDataById(i.value,m.value),p.value=!1},h=u(()=>n.value?JSON.stringify(n.value,null,2):""),N=async()=>{try{await navigator.clipboard.writeText(h.value),alert("已複製到剪貼簿")}catch(o){console.error("複製失敗",o)}},J=()=>{w.push({name:"DataBrowser",params:{type:i.value}})},S=o=>o==null?"-":typeof o=="boolean"?o?"是":"否":typeof o=="object"?JSON.stringify(o):o,C=o=>typeof o=="object"&&o!==null;return j([i,m],()=>{f()},{immediate:!0}),I(()=>{f()}),(o,l)=>(e(),s("div",null,[t("button",{onClick:J,class:"flex items-center gap-2 text-gray-600 hover:text-gray-900 mb-4"}," ← 返回列表 "),p.value?(e(),s("div",F," 載入中... ")):n.value?(e(),s("div",q,[t("div",z,[t("div",E,[t("div",G,a(D.value?.icon),1),t("div",M,[t("h1",$,a(n.value.Name||n.value.ID),1),t("p",H," ID: "+a(n.value.ID),1),n.value.Description?(e(),s("p",K,a(n.value.Description),1)):b("",!0)]),t("div",P,[t("button",{onClick:l[0]||(l[0]=r=>c.value=!c.value),class:"px-4 py-2 border rounded-lg text-sm hover:bg-gray-50"},a(c.value?"隱藏 JSON":"顯示 JSON"),1)])])]),c.value?(e(),s("div",Q,[t("div",{class:"flex justify-between items-center mb-2"},[l[1]||(l[1]=t("span",{class:"text-sm text-gray-400"},"原始 JSON",-1)),t("button",{onClick:N,class:"text-sm text-blue-400 hover:text-blue-300"}," 複製 ")]),t("pre",U,a(h.value),1)])):b("",!0),t("div",W,[l[2]||(l[2]=t("div",{class:"px-4 py-3 bg-gray-50 border-b font-medium"}," 欄位資料 ",-1)),t("div",X,[(e(!0),s(d,null,k(n.value,(r,g)=>(e(),s("div",{key:g,class:"px-4 py-3"},[t("div",Y,[t("div",Z,a(g),1),t("div",tt,[C(r)?Array.isArray(r)?(e(),s(d,{key:1},[r.length===0?(e(),s("div",et,"（空陣列）")):(e(),s("div",st,[(e(!0),s(d,null,k(r,(x,O)=>(e(),s("div",{key:O,class:"bg-gray-50 rounded p-2 text-sm"},[typeof x=="object"?(e(),s("pre",ot,a(JSON.stringify(x,null,2)),1)):(e(),s(d,{key:1},[A(a(x),1)],64))]))),128))]))],64)):(e(),s("div",at,[t("pre",nt,a(JSON.stringify(r,null,2)),1)])):(e(),s("span",{key:0,class:R(g==="ID"?"font-mono text-blue-600":"")},a(S(r)),3))])])]))),128))])])])):(e(),s("div",L," 找不到資料："+a(m.value),1))]))}};export{it as default};
